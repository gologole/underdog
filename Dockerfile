# Используем базовый образ с Go
FROM golang:1.22.5-alpine

# Устанавливаем рабочую директорию внутри контейнера
WORKDIR /app

# Копируем файлы go.mod и go.sum и скачиваем зависимости
COPY go.mod go.sum ./
RUN go mod download

# Копируем все остальные файлы проекта внутрь контейнера
COPY . .

# Собираем приложение в исполняемый файл
RUN go build -o app cmd/main.go

# Экспонируем порт 8080 для веб-сервера (если требуется)
EXPOSE 8080

# Запускаем приложение при старте контейнера
CMD ["./app"]
